use base "installstep";
use strict;
use bmwqemu;

sub run()
{
	waitstillimage(3,20);
if($ENV{PART}=~/lvm/) {
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "up";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "shift-tab";
  sleep 1;
  sendkey "shift-tab";
  sleep 1;
  sendkey "shift-tab";
  sleep 1;
  sendkey "shift-tab";
  sleep 1;
  sendkey "left";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "pgdn";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "pgup";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "down";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "tab";
  sleep 1;
  sendkey "ret";
sleep 100;

} else { 
        sendkey "tab"; # skip media check
        sendkey "tab"; # skip media check
        sendkey "tab"; # skip media check
        sendkey "tab"; # skip media check
	sendkey "ret";
}

}

1;
